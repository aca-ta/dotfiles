syntax enable
"カラースキーマ
colorscheme molokai
set t_Co=256
set t_ut=
set updatetime=1

set number
set smartindent
set expandtab
set shiftwidth=2
set showtabline=2
set tabstop=2
set ambiwidth=double
"検索時に大文字小文字を区別しない
set ic
"バックアップをとらない
set nobackup
"スワップファイルを作らない
set noswapfile 
"入力中のコマンドを表示
set showcmd
"現在のモードを表示
set showmode
"コピー時にクリップボードを使用
"set clipboard=unnamedplus,autoselect
set clipboard+=unnamedplus
"対応する括弧をハイライト
set showmatch
"バックスペースの挙動
"行頭で使用した場合、前の行と連結、インデントを削除
set backspace=eol,indent,start
" カーソルラインの強調表示を有効化
"set cursorline
" ステータスラインを常に表示
set laststatus=2 
" ステータスラインの内容
set statusline=%<%F\ %m%r%h%w%{'['.(&fenc!=''?&fenc:&enc).']['.&ff.']'}%=%l,%c%V%8P
" インクリメンタル検索を有効化
set incsearch
" 検索文字をハイライト
set hlsearch 

" デフォルトの文字コード
set encoding=utf-8
set fileformat=unix
" 自動エンコード
set fileencoding=utf-8
set fileencodings=utf-8,iso-2022-jp,cp932,sjis,euc-jp
 
"タブ関連
set switchbuf+=usetab,newtab"
 
au BufNewFile,BufRead *.hql setlocal filetype=hive expandtab tabstop=2 shiftwidth=2
au BufNewFile,BufRead *.py setlocal expandtab tabstop=4 shiftwidth=4
au BufNewFile,BufRead *.js setlocal tabstop=2 shiftwidth=2
au BufNewFile,BufRead *.php setlocal expandtab tabstop=4 shiftwidth=4
au BufNewFile,BufRead *.cpp setlocal expandtab tabstop=2 shiftwidth=2
au BufNewFile,BufRead *.hpp setlocal expandtab tabstop=2 shiftwidth=2
au BufNewFile,BufRead *Jenkinsfile* setf groovy
au BufNewFile,BufRead *.qgs setf xml
au BufNewFile,BufRead *.md setlocal expandtab tabstop=2 shiftwidth=2

" XMLの対応カッコ移動
source $VIMRUNTIME/macros/matchit.vim

" Plug
silent! call plug#begin('~/.vim/plugged')
Plug 'autowitch/hive.vim'
Plug 'pangloss/vim-javascript'
Plug 'mxw/vim-jsx'
Plug 'scrooloose/nerdtree'
Plug 'jistr/vim-nerdtree-tabs'
Plug 'scrooloose/syntastic'
Plug 'othree/html5.vim'
Plug 'hail2u/vim-css3-syntax'
Plug 'gorodinskiy/vim-coloresque'
Plug 'mattn/emmet-vim'
Plug 'mattn/vim-sqlfmt'
Plug 'tomasr/molokai', {'do': 'cp colors/* ~/.vim/colors/'}
Plug 'tpope/vim-surround'
Plug 'Valloric/YouCompleteMe'
Plug 'rdnetto/YCM-Generator', { 'branch': 'stable'}
Plug 'prettier/vim-prettier', {
  \ 'do': 'yarn install',
  \ 'for': ['javascript', 'typescript', 'css', 'less', 'scss', 'json', 'graphql', 'markdown', 'vue'] }
Plug 'mechatroner/rainbow_csv'
Plug 'tpope/vim-fugitive'
Plug 'godlygeek/tabular'
Plug 'plasticboy/vim-markdown'
Plug 'airblade/vim-gitgutter'
Plug 'leafgarland/typescript-vim'
Plug 'fatih/vim-go', { 'do': ':GoUpdateBinaries' }
call plug#end()

" nerdtree
let NERDTreeShowHidden=1
nnoremap <silent><C-e> :NERDTreeToggle<CR><C-w>=

nnoremap +  <C-w>+
nnoremap -  <C-w>-
nnoremap \|  <C-w>\|
nnoremap _  <C-w>_
nnoremap =  <C-w>=
vnoremap > >gv
vnoremap < <gv

" syntastic
let g:syntastic_check_on_open = 0
let g:syntastic_check_on_wq = 0
let g:syntastic_mode_map = { 'mode': 'passive',
                           \ 'active_filetypes': ['json','yaml', 'css', 'html'],
                           \ 'passive_filetypes': ['python','php', 'h', 'cpp', 'hpp', 'javascript'] }
let g:syntastic_python_checkers = ['pylint']
let g:syntastic_javascript_checkers=['eslint']
let g:syntastic_yaml_checkers=['jsyaml']
let g:syntastic_html_checkers=['tidy']
let g:syntastic_json_checkers=['jsonlint']
let g:syntastic_php_checkers=['php', 'phpcs']
let g:syntastic_php_phpcs_args='--standard=PSR2'
let g:syntastic_css_checkers=['csslint']
let g:syntastic_cpp_cpplint_exec = 'cpplint'

" YouCompleteMe
let g:ycm_goto_buffer_command = 'new-tab'
let g:ycm_global_ycm_extra_conf = '/home/shuhei-tsukamoto/.vim/plugged/YouCompleteMe/third_party/ycmd/cpp/ycm/.ycm_extra_conf.py'

nnoremap jd :YcmCompleter GoTo<CR> 
nnoremap gd :YcmCompleter GetDoc<CR> 

" gitgutter
let g:gitgutter_highlight_lines = 0

nnoremap gn :GitGutterNextHunk<CR>
nnoremap gp :GitGutterPrevHunk<CR>

" vim-markdown
let g:vim_markdown_folding_disabled = 1

" rainbow_csv
let g:rcsv_colorpairs = [['red', 'red'], ['blue', 'blue'], ['green', 'green'], ['magenta', 'magenta'], ['NONE', 'NONE'], ['darkred', 'darkred'], ['darkgreen', 'darkgreen'], ['darkmagenta', 'darkmagenta'], ['darkcyan', 'darkcyan']]
